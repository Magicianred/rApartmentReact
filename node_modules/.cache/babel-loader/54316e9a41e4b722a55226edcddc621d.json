{"ast":null,"code":"const {\n  webm,\n  mp4\n} = require('./media.js'); // Detect iOS browsers < version 10\n\n\nconst oldIOS = typeof navigator !== 'undefined' && parseFloat(('' + (/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ''])[1]).replace('undefined', '3_2').replace('_', '.').replace('_', '')) < 10 && !window.MSStream;\n\nclass NoSleep {\n  constructor() {\n    if (oldIOS) {\n      this.noSleepTimer = null;\n    } else {\n      // Set up no sleep video element\n      this.noSleepVideo = document.createElement('video');\n      this.noSleepVideo.setAttribute('muted', '');\n      this.noSleepVideo.setAttribute('title', 'No Sleep');\n      this.noSleepVideo.setAttribute('playsinline', '');\n\n      this._addSourceToVideo(this.noSleepVideo, 'webm', webm);\n\n      this._addSourceToVideo(this.noSleepVideo, 'mp4', mp4);\n\n      this.noSleepVideo.addEventListener('loadedmetadata', () => {\n        if (this.noSleepVideo.duration <= 1) {\n          // webm source\n          this.noSleepVideo.setAttribute('loop', '');\n        } else {\n          // mp4 source\n          this.noSleepVideo.addEventListener('timeupdate', () => {\n            if (this.noSleepVideo.currentTime > 0.5) {\n              this.noSleepVideo.currentTime = Math.random();\n            }\n          });\n        }\n      });\n    }\n  }\n\n  _addSourceToVideo(element, type, dataURI) {\n    var source = document.createElement('source');\n    source.src = dataURI;\n    source.type = `video/${type}`;\n    element.appendChild(source);\n  }\n\n  enable() {\n    if (oldIOS) {\n      this.disable();\n      console.warn(`\n        NoSleep enabled for older iOS devices. This can interrupt\n        active or long-running network requests from completing successfully.\n        See https://github.com/richtr/NoSleep.js/issues/15 for more details.\n      `);\n      this.noSleepTimer = window.setInterval(() => {\n        if (!document.hidden) {\n          window.location.href = window.location.href.split('#')[0];\n          window.setTimeout(window.stop, 0);\n        }\n      }, 15000);\n    } else {\n      this.noSleepVideo.play();\n    }\n  }\n\n  disable() {\n    if (oldIOS) {\n      if (this.noSleepTimer) {\n        console.warn(`\n          NoSleep now disabled for older iOS devices.\n        `);\n        window.clearInterval(this.noSleepTimer);\n        this.noSleepTimer = null;\n      }\n    } else {\n      this.noSleepVideo.pause();\n    }\n  }\n\n}\n\n;\nmodule.exports = NoSleep;","map":{"version":3,"sources":["/home/INVOLVES/leticia.coelho/Documentos/react/rApartmentReact/node_modules/nosleep.js/src/index.js"],"names":["webm","mp4","require","oldIOS","navigator","parseFloat","exec","userAgent","replace","window","MSStream","NoSleep","constructor","noSleepTimer","noSleepVideo","document","createElement","setAttribute","_addSourceToVideo","addEventListener","duration","currentTime","Math","random","element","type","dataURI","source","src","appendChild","enable","disable","console","warn","setInterval","hidden","location","href","split","setTimeout","stop","play","clearInterval","pause","module","exports"],"mappings":"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","sourcesContent":["const { webm, mp4 } = require('./media.js')\n\n// Detect iOS browsers < version 10\nconst oldIOS = typeof navigator !== 'undefined' && parseFloat(\n  ('' + (/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ''])[1])\n    .replace('undefined', '3_2').replace('_', '.').replace('_', '')\n) < 10 && !window.MSStream\n\nclass NoSleep {\n  constructor () {\n    if (oldIOS) {\n      this.noSleepTimer = null\n    } else {\n      // Set up no sleep video element\n      this.noSleepVideo = document.createElement('video')\n\n      this.noSleepVideo.setAttribute('muted', '')\n      this.noSleepVideo.setAttribute('title', 'No Sleep')\n      this.noSleepVideo.setAttribute('playsinline', '')\n\n      this._addSourceToVideo(this.noSleepVideo, 'webm', webm)\n      this._addSourceToVideo(this.noSleepVideo, 'mp4', mp4)\n\n      this.noSleepVideo.addEventListener('loadedmetadata', () => {\n        if (this.noSleepVideo.duration <= 1) { // webm source\n          this.noSleepVideo.setAttribute('loop', '')\n        } else { // mp4 source\n          this.noSleepVideo.addEventListener('timeupdate', () => {\n            if (this.noSleepVideo.currentTime > 0.5) {\n              this.noSleepVideo.currentTime = Math.random()\n            }\n          })\n        }\n      })\n    }\n  }\n\n  _addSourceToVideo (element, type, dataURI) {\n    var source = document.createElement('source')\n    source.src = dataURI\n    source.type = `video/${type}`\n    element.appendChild(source)\n  }\n\n  enable () {\n    if (oldIOS) {\n      this.disable()\n      console.warn(`\n        NoSleep enabled for older iOS devices. This can interrupt\n        active or long-running network requests from completing successfully.\n        See https://github.com/richtr/NoSleep.js/issues/15 for more details.\n      `)\n      this.noSleepTimer = window.setInterval(() => {\n        if (!document.hidden) {\n          window.location.href = window.location.href.split('#')[0]\n          window.setTimeout(window.stop, 0)\n        }\n      }, 15000)\n    } else {\n      this.noSleepVideo.play()\n    }\n  }\n\n  disable () {\n    if (oldIOS) {\n      if (this.noSleepTimer) {\n        console.warn(`\n          NoSleep now disabled for older iOS devices.\n        `)\n        window.clearInterval(this.noSleepTimer)\n        this.noSleepTimer = null\n      }\n    } else {\n      this.noSleepVideo.pause()\n    }\n  }\n};\n\nmodule.exports = NoSleep\n"]},"metadata":{},"sourceType":"script"}